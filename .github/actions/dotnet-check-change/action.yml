name: Validate .NET
description: Validate your .NET repository.
inputs:
  configuration:
    description: Configuration to build.
    required: false
    default: Release
runs:
  using: composite
  steps:
  - name: Install dotnet
    uses: actions/setup-dotnet@v1
  - name: Restore
    run: dotnet restore
    shell: bash
    env:
      DOTNET_NOLOGO: "true"
      DOTNET_CLI_TELEMETRY_OPTOUT: "true"
  - name: Build
    run: dotnet build --no-restore --nologo -c ${{ inputs.configuration }}
    shell: bash
    env:
      DOTNET_NOLOGO: "true"
      DOTNET_CLI_TELEMETRY_OPTOUT: "true"
  - name: Test
    run: dotnet test --no-build --nologo -c ${{ inputs.configuration }}
    shell: bash
    env:
      DOTNET_NOLOGO: "true"
      DOTNET_CLI_TELEMETRY_OPTOUT: "true"
  - name: Publish
    run: dotnet publish --no-build --nologo -c ${{ inputs.configuration }}
    shell: bash
    env:
      DOTNET_NOLOGO: "true"
      DOTNET_CLI_TELEMETRY_OPTOUT: "true"
  - name: Pack
    run: dotnet pack --no-build --nologo -c ${{ inputs.configuration }}
    shell: bash
    env:
      DOTNET_NOLOGO: "true"
      DOTNET_CLI_TELEMETRY_OPTOUT: "true"
